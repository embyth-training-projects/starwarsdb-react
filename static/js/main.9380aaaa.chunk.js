(this["webpackJsonpstarwarsdb-react"]=this["webpackJsonpstarwarsdb-react"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),i=n(21),c=n.n(i),o=n(2),l=n(3),j=n(14),u=n(5),h=n(4),d=n(8),b=n(6),p=(n(28),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"error-indicator",children:[Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==",alt:"Death Star Error icon"}),Object(a.jsx)("span",{className:"boom",children:"BOOM!"}),Object(a.jsx)("span",{children:"something has gone terribly wrong"}),Object(a.jsx)("span",{children:"(but we already sent droids to fix it)"})]})}}]),n}(r.Component)),O=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={isError:!1},e}return Object(l.a)(n,[{key:"componentDidCatch",value:function(){this.setState({isError:!0})}},{key:"render",value:function(){return this.state.isError?Object(a.jsx)(p,{}):this.props.children}}]),n}(r.Component),m=(n(29),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"header d-flex",children:[Object(a.jsx)("h3",{children:Object(a.jsx)(d.b,{to:"/",children:"StarWarsDB"})}),Object(a.jsxs)("ul",{className:"d-flex",children:[Object(a.jsx)("li",{children:Object(a.jsx)(d.b,{to:"/people/",children:"People"})}),Object(a.jsx)("li",{children:Object(a.jsx)(d.b,{to:"/planets",children:"Planets"})}),Object(a.jsx)("li",{children:Object(a.jsx)(d.b,{to:"/starships/",children:"Starships"})}),Object(a.jsx)("li",{children:Object(a.jsx)(d.b,{to:"/secret",children:"Secret"})})]})]})}}]),n}(r.Component)),g=200,f=299,N=function(){function e(){Object(o.a)(this,e),this._endPoint="https://swapi.dev/api",this._imageEndPoint="https://starwars-visualguide.com/assets/img",this.getAllPeople=this.getAllPeople.bind(this),this.getAllPlanets=this.getAllPlanets.bind(this),this.getAllStarships=this.getAllStarships.bind(this),this.getPerson=this.getPerson.bind(this),this.getPlanet=this.getPlanet.bind(this),this.getStarship=this.getStarship.bind(this),this.getPersonImage=this.getPersonImage.bind(this),this.getPlanetsImage=this.getPlanetsImage.bind(this),this.getStarshipImage=this.getStarshipImage.bind(this),this._adaptPlanetToClient=this._adaptPlanetToClient.bind(this),this._adaptPersonToClient=this._adaptPersonToClient.bind(this),this._adaptStarshipToClient=this._adaptStarshipToClient.bind(this)}return Object(l.a)(e,[{key:"getAllPlanets",value:function(){var t=this;return this._load({url:"planets"}).then(e.toJSON).then((function(e){return e.results.map(t._adaptPlanetToClient)}))}},{key:"getPlanet",value:function(t){return this._load({url:"planets/".concat(t)}).then(e.toJSON).then(this._adaptPlanetToClient)}},{key:"getAllPeople",value:function(){var t=this;return this._load({url:"people"}).then(e.toJSON).then((function(e){return e.results.map(t._adaptPersonToClient)}))}},{key:"getPerson",value:function(t){return this._load({url:"people/".concat(t)}).then(e.toJSON).then(this._adaptPersonToClient)}},{key:"getAllStarships",value:function(){var t=this;return this._load({url:"starships"}).then(e.toJSON).then((function(e){return e.results.map(t._adaptStarshipToClient)}))}},{key:"getStarship",value:function(t){return this._load({url:"starships/".concat(t)}).then(e.toJSON).then(this._adaptStarshipToClient)}},{key:"getPersonImage",value:function(e){var t=e.id;return"".concat(this._imageEndPoint,"/characters/").concat(t,".jpg")}},{key:"getPlanetsImage",value:function(e){var t=e.id;return"".concat(this._imageEndPoint,"/planets/").concat(t,".jpg")}},{key:"getStarshipImage",value:function(e){var t=e.id;return"".concat(this._imageEndPoint,"/starships/").concat(t,".jpg")}},{key:"_getIdFromUrl",value:function(e){return e.match(/\/([0-9]*)\/$/)[1]}},{key:"_adaptPlanetToClient",value:function(e){return{id:this._getIdFromUrl(e.url),name:e.name,population:e.population,rotationPeriod:e.rotation_period,diameter:e.diameter}}},{key:"_adaptPersonToClient",value:function(e){return{id:this._getIdFromUrl(e.url),name:e.name,gender:e.gender,birthYear:e.birth_year,eyeColor:e.eye_color}}},{key:"_adaptStarshipToClient",value:function(e){return{id:this._getIdFromUrl(e.url),name:e.name,model:e.model,manufacturer:e.manufacturer,costInCredits:e.cost_in_credits,length:e.length,crew:e.crew,passengers:e.passengers,cargoCapacity:e.cargo_capacity}}},{key:"_load",value:function(t){var n=t.url,a=t.method,r=void 0===a?"GET":a,s=t.body,i=void 0===s?null:s,c=t.headers,o=void 0===c?new Headers:c;return fetch("".concat(this._endPoint,"/").concat(n),{method:r,body:i,headers:o}).then(e.checkStatus).catch(e.catchError)}}],[{key:"toJSON",value:function(e){return e.json()}},{key:"checkStatus",value:function(e){if(e.status<g&&e.status>f)throw new Error("".concat(e.status,": ").concat(e.statusText));return e}},{key:"catchError",value:function(e){throw e}}]),e}(),x=(n(35),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"loadingio-spinner-double-ring-031nhe02xpio",children:Object(a.jsxs)("div",{className:"ldio-scdn2juguse",children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)("div",{})}),Object(a.jsx)("div",{children:Object(a.jsx)("div",{})})]})})}}]),n}(r.Component)),v=(n(36),function(e){var t=e.planet,n=t.id,r=t.name,i=t.population,c=t.rotationPeriod,o=t.diameter;return Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)("img",{className:"planet-image",src:"https://starwars-visualguide.com/assets/img/planets/".concat(n,".jpg"),alt:"Planet ".concat(r," appearance")}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:r}),Object(a.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("span",{className:"term",children:"Population"}),Object(a.jsx)("span",{children:i})]}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("span",{className:"term",children:"Rotation Period"}),Object(a.jsx)("span",{children:c})]}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("span",{className:"term",children:"Diameter"}),Object(a.jsx)("span",{children:o})]})]})]})]})}),A=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this))._swapi=new N,e.state={planet:{},isLoading:!0,isError:!1},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=Math.floor(28*Math.random())+2;this._swapi.getPlanet(t).then((function(t){return e.setState({planet:t,isLoading:!1})})).catch((function(){return e.setState({isError:!0,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.planet,n=e.isLoading,r=e.isError;return Object(a.jsxs)("div",{className:"random-planet jumbotron rounded",children:[n?Object(a.jsx)(x,{}):null,r?Object(a.jsx)(p,{}):null,n||r?null:Object(a.jsx)(v,{planet:t})]})}}]),n}(r.Component),U=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.left,n=e.right;return Object(a.jsxs)("div",{className:"row mb-2",children:[Object(a.jsx)("div",{className:"col-md-6",children:t}),Object(a.jsx)("div",{className:"col-md-6",children:n})]})}}]),n}(r.Component),E=(n(37),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={list:{},isLoading:!0},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.getData)().then((function(t){return e.setState({list:t,isLoading:!1})})).catch((function(){return e.setState({isLoading:!1})}))}},{key:"_getListItems",value:function(e){var t=this;return e.map((function(e){var n=e.id,r=e.name;return Object(a.jsx)("li",{className:"list-group-item",onClick:function(){return t.props.onListItemClick(n)},children:r},n)}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.list;return Object(a.jsx)("ul",{className:"item-list list-group",children:t?Object(a.jsx)(x,{}):this._getListItems(n)})}}]),n}(r.Component)),y=n(12),k=(n(38),function(e){var t=e.item,n=e.field,r=e.label;return Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("span",{className:"term",children:r}),Object(a.jsx)("span",{children:t[n]})]})}),C=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={item:null},e}return Object(l.a)(n,[{key:"_updateCard",value:function(){var e=this,t=this.props,n=t.itemId,a=t.getData,r=t.getImageUrl;n&&a(n).then((function(t){return e.setState({item:t,image:r(t)})}))}},{key:"componentDidMount",value:function(){this._updateCard()}},{key:"componentDidUpdate",value:function(e){this.props.itemId!==e.itemId&&this._updateCard()}},{key:"render",value:function(){var e=this.state,t=e.item,n=e.image;if(!t)return Object(a.jsx)("span",{children:"Select an item from a list!"});var r=t.name;return Object(a.jsxs)("div",{className:"person-details card",children:[Object(a.jsx)("img",{className:"person-image",src:n,alt:"Character ".concat(r," appearance")}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h4",{children:r}),Object(a.jsx)("ul",{className:"list-group list-group-flush",children:s.a.Children.map(this.props.children,(function(e){return s.a.cloneElement(e,{item:t})}))})]})]})}}]),n}(r.Component),S=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(C,Object(y.a)(Object(y.a)({},this.props),{},{children:[Object(a.jsx)(k,{field:"gender",label:"Gender"}),Object(a.jsx)(k,{field:"birthYear",label:"Birth Year"}),Object(a.jsx)(k,{field:"eyeColor",label:"Eye color"})]}))}}]),n}(r.Component),W=s.a.createContext(),I=W.Provider,P=W.Consumer,M=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.match.params.id,t=this.props.history;return Object(a.jsx)(O,{children:Object(a.jsx)(P,{children:function(n){var r=n.getAllPeople,s=n.getPerson,i=n.getPersonImage;return Object(a.jsx)(U,{left:Object(a.jsx)(E,{onListItemClick:function(e){return t.push(e)},getData:r}),right:Object(a.jsx)(S,{itemId:e,getData:s,getImageUrl:i})})}})})}}]),n}(r.Component),T=Object(b.g)(M),w=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(C,Object(y.a)(Object(y.a)({},this.props),{},{children:[Object(a.jsx)(k,{field:"population",label:"Population"}),Object(a.jsx)(k,{field:"rotationPeriod",label:"Rotation Period"}),Object(a.jsx)(k,{field:"diameter",label:"Diameter"})]}))}}]),n}(r.Component),L=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={selectedItem:null},e.listItemClickHandler=e.listItemClickHandler.bind(Object(j.a)(e)),e}return Object(l.a)(n,[{key:"listItemClickHandler",value:function(e){this.setState({selectedItem:e})}},{key:"render",value:function(){var e=this;return Object(a.jsx)(O,{children:Object(a.jsx)(P,{children:function(t){var n=t.getAllPlanets,r=t.getPlanet,s=t.getPlanetsImage;return Object(a.jsx)(U,{left:Object(a.jsx)(E,{onListItemClick:e.listItemClickHandler,getData:n}),right:Object(a.jsx)(w,{itemId:e.state.selectedItem,getData:r,getImageUrl:s})})}})})}}]),n}(r.Component),B=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)(O,{children:Object(a.jsx)(P,{children:function(t){var n=t.getAllStarships;return Object(a.jsx)(E,{onListItemClick:function(t){return e.props.history.push(t)},getData:n})}})})}}]),n}(r.Component),D=Object(b.g)(B),V=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return this.props.isLoggedIn?Object(a.jsxs)("div",{className:"alert alert-dismissible alert-info text-center p-5",children:[Object(a.jsx)("h3",{className:"alert-heading",children:"The big secret is..."}),Object(a.jsx)("strong",{children:"Darth Vader is the father of Luke Skywalker!"})," Sorry, if you didn't know... :("]}):Object(a.jsx)(b.a,{to:"/login"})}}]),n}(r.Component),_=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isLoggedIn,n=e.onLoginButtonClick;return t?Object(a.jsx)(b.a,{to:"/secret"}):Object(a.jsxs)("div",{className:"jumbotron text-center",children:[Object(a.jsx)("h3",{className:"mb-5",children:"Login to see secret page!"}),Object(a.jsx)("button",{className:"btn btn-success px-5 py-2",onClick:n,children:"Login"})]})}}]),n}(r.Component),F=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(C,Object(y.a)(Object(y.a)({},this.props),{},{children:[Object(a.jsx)(k,{field:"model",label:"Model"}),Object(a.jsx)(k,{field:"manufacturer",label:"Manufacturer"}),Object(a.jsx)(k,{field:"costInCredits",label:"Cost In Credits"}),Object(a.jsx)(k,{field:"length",label:"Length"}),Object(a.jsx)(k,{field:"crew",label:"Crew"}),Object(a.jsx)(k,{field:"passengers",label:"Passengers"}),Object(a.jsx)(k,{field:"cargoCapacity",label:"Capacity"})]}))}}]),n}(r.Component),H=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={isLoggedIn:!1},e.loginButtonClickHandler=e.loginButtonClickHandler.bind(Object(j.a)(e)),e}return Object(l.a)(n,[{key:"loginButtonClickHandler",value:function(){this.setState({isLoggedIn:!0})}},{key:"render",value:function(){var e=this;return Object(a.jsx)(O,{children:Object(a.jsx)(I,{value:new N,children:Object(a.jsx)(d.a,{basename:"/starwarsdb-react",children:Object(a.jsxs)("div",{className:"container-xl",children:[Object(a.jsx)(m,{}),Object(a.jsx)(A,{}),Object(a.jsx)(P,{children:function(t){var n=t.getStarship,r=t.getStarshipImage;return Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/",exact:!0,render:function(){return Object(a.jsxs)("div",{className:"jumbotron",children:[Object(a.jsx)("h2",{className:"display-5 text-center mb-5 text-warning",children:"Welcome to StarWars DataBase!"}),Object(a.jsx)("p",{className:"lead text-center",children:"Choose from navigation bar above what do you want to know about Star Wars Universe!"})]})}}),Object(a.jsx)(b.b,{path:"/people/:id?",component:T}),Object(a.jsx)(b.b,{path:"/planets",component:L}),Object(a.jsx)(b.b,{path:"/starships/",exact:!0,component:D}),Object(a.jsx)(b.b,{path:"/starships/:id",render:function(e){var t=e.match.params.id;return Object(a.jsx)(F,{itemId:t,getData:n,getImageUrl:r})}}),Object(a.jsx)(b.b,{path:"/login",render:function(){return Object(a.jsx)(_,{isLoggedIn:e.state.isLoggedIn,onLoginButtonClick:e.loginButtonClickHandler})}}),Object(a.jsx)(b.b,{path:"/secret",render:function(){return Object(a.jsx)(V,{isLoggedIn:e.state.isLoggedIn})}}),Object(a.jsx)(b.b,{render:function(){return Object(a.jsxs)("div",{className:"alert alert-dismissible alert-danger text-center p-4",children:[Object(a.jsx)("strong",{className:"display-4",children:"404"}),Object(a.jsx)("h2",{className:"mb-4",children:"Page Not Found"}),Object(a.jsx)("p",{className:"mb-3",children:"Oh shoot, seems like we dont have this page... Go back to main page or try something else!"}),Object(a.jsx)(d.b,{to:"/",className:"btn btn-info text-decoration-none",children:"Main Page"})]})}})]})}})]})})})})}}]),n}(r.Component),G=document.querySelector("#root");c.a.render(Object(a.jsx)(H,{}),G)}},[[39,1,2]]]);
//# sourceMappingURL=main.9380aaaa.chunk.js.map